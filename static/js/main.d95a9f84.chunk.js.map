{"version":3,"sources":["store/user/actions.js","Components/Login/Login.js","assets/clock.svg","Components/Timers/Header.js","Components/Timers/Timers.js","Components/Register/Register.js","App.js","reportWebVitals.js","store/user/reducer.js","store/store.js","index.js"],"names":["logoutAction","a","firebase","auth","signOut","then","localStorage","removeItem","catch","err","console","log","Body","styled","form","Title","p","Input","input","Button","button","Reg","Link","Login","props","useState","email","setEmail","password","setPassword","dispatch","useDispatch","login","e","user","preventDefault","signInWithEmailAndPassword","res","userId","currentUser","uid","dbUser","database","ref","once","snapshot","name","val","desktopTimer","mobileTimer","setItem","JSON","stringify","type","payload","error","errorCode","code","errorMessage","message","alert","onAuthStateChanged","history","push","onSubmit","placeholder","value","onChange","target","to","HeaderWrapper","div","Header","onClick","TimersContainer","TimerWrapper","Timer","clock","Timers","useSelector","state","parse","getItem","desktopTime","setDesktopTime","mobileTime","setMobileTime","msToHMinSec","ms","sec","parseInt","min","h","useEffect","timer","window","innerWidth","setTimeout","prev","clearTimeout","updates","update","RegisterBody","Register","firstName","setFirstName","lastName","setLastName","register","createUserWithEmailAndPassword","set","Container","App","basename","path","component","exact","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialStore","rootReducer","combineReducers","action","store","createStore","composeWithDevTools","applyMiddleware","thunk","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.d95a9f84.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\n\r\nexport const registerAction = (user) => async dispatch => {\r\n    const {email, password} = user\r\n    \r\n    await firebase.auth().createUserWithEmailAndPassword(email, password).then(res => {\r\n      if (res) {\r\n            const userId = firebase.auth().currentUser.uid\r\n            const dbUser = {}\r\n            firebase.database().ref('users/' + userId).set(user);\r\n            firebase.database().ref('users/' + userId).once('value').then(snapshot => {\r\n              dbUser.name = (snapshot.val() && snapshot.val().name) || 'Anonymous'\r\n              dbUser.email = (snapshot.val() && snapshot.val().email) || 'no-email'\r\n              dbUser.desktopTimer = (snapshot.val() && snapshot.val().desktopTimer) || 0\r\n              dbUser.mobileTimer = (snapshot.val() && snapshot.val().mobileTimer) || 0\r\n            })\r\n            localStorage.setItem('token', JSON.stringify(userId))\r\n\r\n            dispatch ({\r\n              type: 'LOGGING',\r\n              payload: dbUser\r\n            })\r\n      }\r\n    })\r\n    .catch(error => {\r\n        const errorCode = error.code\r\n        const errorMessage = error.message\r\n        if (errorCode === 'auth/weak-password') alert('The password is too weak.')\r\n        else alert(errorMessage)\r\n    });\r\n}\r\n\r\nexport const loginAction = (user) => async dispatch => {\r\n    const {email, password} = user\r\n    \r\n    await firebase.auth().signInWithEmailAndPassword(email, password).then(res => {\r\n        if (res) {\r\n          const userId = firebase.auth().currentUser.uid\r\n          const dbUser = {}\r\n          firebase.database().ref('users/' + userId).once('value').then(snapshot => {\r\n            dbUser.name = (snapshot.val() && snapshot.val().name) || 'Anonymous'\r\n            dbUser.email = (snapshot.val() && snapshot.val().email) || 'no-email'\r\n            dbUser.desktopTimer = (snapshot.val() && snapshot.val().desktopTimer)\r\n            dbUser.mobileTimer = (snapshot.val() && snapshot.val().mobileTimer)\r\n          })\r\n          localStorage.setItem('token', JSON.stringify(userId))\r\n          \r\n          dispatch ({\r\n              type: 'LOGGING',\r\n              payload: dbUser\r\n          })\r\n        }\r\n    })\r\n    .catch(function(error) {\r\n        const errorCode = error.code\r\n        const errorMessage = error.message\r\n        if (errorCode === 'auth/wrong-password') alert('Wrong password.')\r\n        else alert(errorMessage)\r\n    })\r\n}\r\n\r\nexport const logoutAction = async () => {\r\n  await firebase.auth().signOut()\r\n  .then(() => localStorage.removeItem('token'))\r\n  .catch(err => console.log(err))\r\n}","import React, { useState } from 'react'\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { loginAction } from '../../store/user/actions';\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\n\r\n\r\nexport const Body = styled.form`\r\n    width: 100%;\r\n    max-width: 588px;\r\n    background: #C4C4C4;\r\n    border-radius: 57px;\r\n    color: #000;\r\n    padding: 110px 70px 30px;\r\n    text-align: center;\r\n    @media (max-width: 525px) {\r\n        padding: 80px 50px 25px;\r\n        height: calc(100vh - 100px);\r\n    }\r\n    @media (max-width: 375px) {\r\n        padding: 80px 20px 25px;\r\n    }\r\n`\r\nexport const Title = styled.p`\r\n    font-weight: 500;\r\n    font-size: 46px;\r\n    line-height: 54px;\r\n    letter-spacing: 0.0075em;\r\n    text-align: center;\r\n`\r\nexport const Input = styled.input`\r\n    width: 100%;\r\n    border: none;\r\n    background: none;\r\n    font-size: 40px;\r\n    margin-top: 30px;\r\n    @media (max-width: 525px) {\r\n        font-size: 24px;\r\n    }\r\n`\r\nexport const Button = styled.button`\r\n    background: #828282;\r\n    border-radius: 63px;\r\n    font-size: 40px;\r\n    border: none;\r\n    width: 277px;\r\n    height: 73px;\r\n    margin: 80px auto 0;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    cursor: pointer;\r\n    &:active {\r\n        background: #a5a5a5;\r\n    }\r\n    @media (max-width: 525px) {\r\n        width: 195px;\r\n        height: 47px;\r\n        font-size: 24px;\r\n    }\r\n`\r\nexport const Reg = styled(Link)`\r\n    color: #88888C;\r\n    letter-spacing: 0.75px;\r\n    display: inline-block;\r\n    margin-top: 20px !important;\r\n    font-size: 20px;\r\n    position: relative;\r\n    &::after {\r\n        content: '';\r\n        position: absolute;\r\n        width: 100%;\r\n        height: 2px;\r\n        background: #88888C;\r\n        top: 100%;\r\n        left: 0;\r\n    }\r\n    @media (max-width: 525px) {\r\n        font-size: 15px;\r\n    }\r\n    span {\r\n        font-weight: bold;\r\n        color: #000;\r\n        position: relative;\r\n        &::after {\r\n            content: '';\r\n            position: absolute;\r\n            width: 100%;\r\n            height: 2px;\r\n            background: #000;\r\n            top: 100%;\r\n            left: 0;\r\n            z-index: 2;\r\n        }\r\n    }\r\n`\r\n\r\nexport const Login = (props) => {\r\n    const [email, setEmail] = useState('serhiy.lisnyakov@gmail.com')\r\n    const [password, setPassword] = useState('12345678')\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const login = e => {\r\n        e.preventDefault()\r\n\r\n        const newUser = {\r\n            email,\r\n            password,\r\n        }\r\n\r\n        dispatch(loginAction(newUser))\r\n        \r\n        firebase.auth().onAuthStateChanged(function(user) {\r\n            if (user) props.history.push('/timers')\r\n            else setPassword('')\r\n        });\r\n    }\r\n\r\n    return (\r\n        <Body onSubmit={e => login(e)}>\r\n            <Title>Login</Title>\r\n            <Input\r\n                type='text'\r\n                placeholder='Email'\r\n                value={email}\r\n                onChange={e => setEmail(e.target.value)}\r\n            />\r\n            <Input\r\n                type='password'\r\n                placeholder='Password'\r\n                value={password}\r\n                onChange={e => setPassword(e.target.value)}\r\n            />\r\n            <Button type='submit'>Login</Button>\r\n            <Reg to='/register'>Don’t have an account yet? <span>Register</span></Reg>\r\n        </Body>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/clock.09ce351f.svg\";","import React from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { logoutAction } from '../../store/user/actions'\r\n\r\nconst HeaderWrapper = styled.div`\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    padding: 50px 45px 0;\r\n    font-size: 24px;\r\n    font-weight: 500;\r\n    div {\r\n        cursor: pointer;\r\n        margin-left: auto;\r\n    }\r\n    @media (max-width: 525px) {\r\n        flex-direction: column;\r\n        align-items: center;\r\n        padding-top: 20px;\r\n    }\r\n`\r\n\r\nexport const Header = ({props}) => {\r\n    \r\n    const logout = () => {\r\n        logoutAction()\r\n        props.history.push('/login')\r\n    }\r\n\r\n    return (\r\n        <HeaderWrapper>\r\n            <div onClick={logout}>Log out</div>\r\n        </HeaderWrapper>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/database\";\r\nimport clock from '../../assets/clock.svg'\r\nimport { Header } from './Header';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst TimersContainer = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    @media (max-width: 575px) {\r\n        flex-direction: column;\r\n    }\r\n`\r\nconst TimerWrapper = styled.div`\r\n    text-align: center;\r\n    font-size: 40px;\r\n    &:first-child {\r\n        margin-right: 200px;\r\n        @media (max-width: 1024px) {\r\n            margin-right: 100px;\r\n        }\r\n        @media (max-width: 575px) {\r\n            margin-right: 0px;\r\n            margin-bottom: 20px;\r\n        }\r\n    }\r\n    @media (max-width: 1024px) {\r\n        font-size: 24px;\r\n    }\r\n    \r\n`\r\nconst Timer = styled.div`\r\n    width: 379px;\r\n    height: 404px;\r\n    border-radius: 25px;\r\n    margin-top: 15px;\r\n    margin-bottom: 15px;\r\n    background: url(${clock}) center center no-repeat, #C4C4C4;\r\n    background-size: 50%;\r\n    @media (max-width: 1024px) {\r\n        width: 192px;\r\n        height: 208px;\r\n    }\r\n`\r\n\r\nexport const Timers = (props) => {\r\n    const user = useSelector(state => state.user)\r\n    const userId = JSON.parse(localStorage.getItem('token'))\r\n    const [desktopTime, setDesktopTime] = useState(user.desktopTimer || 0)\r\n    const [mobileTime, setMobileTime] = useState(user.mobileTimer || 0)\r\n\r\n    const msToHMinSec = (ms) => {\r\n        let sec = parseInt((ms / 1000) % 60),\r\n            min = parseInt((ms / (1000 * 60)) % 60),\r\n            h   = parseInt((ms / (1000 * 60 * 60)) % 24);\r\n    \r\n        h   = (h < 10)   ? '0' + h : h;\r\n        min = (min < 10) ? '0' + min : min;\r\n        sec = (sec < 10) ? '0' + sec : sec;\r\n\r\n        return h + ':' + min + ':' + sec;\r\n    }\r\n\r\n    useEffect(() => {\r\n        firebase.database().ref('users/' + userId).once('value').then(function(snapshot) {\r\n            setDesktopTime((snapshot.val() && snapshot.val().desktopTimer) || 0)\r\n            setMobileTime((snapshot.val() && snapshot.val().mobileTimer) || 0)\r\n        })\r\n    }, [])\r\n\r\n    useEffect(() =>  {\r\n        let timer\r\n        if (window.innerWidth < 525) timer = setTimeout(() => setMobileTime(prev => prev + 1000), 1000)\r\n        else timer = setTimeout(() => setDesktopTime(prev => prev + 1000), 1000)\r\n\r\n        return () => {\r\n            clearTimeout(timer)\r\n            const updates = {};\r\n            updates['/users/' + userId + '/desktopTimer'] = desktopTime;\r\n            updates['/users/' + userId + '/mobileTimer'] = mobileTime;\r\n            \r\n            firebase.database().ref().update(updates);\r\n        }\r\n\r\n    }, [desktopTime, mobileTime])\r\n\r\n    if (!userId) return <Redirect to=\"/login\"/>\r\n    return (\r\n        <>\r\n            <Header props={props}/>\r\n            <TimersContainer>\r\n                <TimerWrapper>\r\n                    Desktop\r\n                    <Timer/>\r\n                    <span>{msToHMinSec(desktopTime)}</span>\r\n                </TimerWrapper>\r\n                <TimerWrapper>\r\n                    Mobile\r\n                    <Timer/>\r\n                    <span>{msToHMinSec(mobileTime)}</span>\r\n                </TimerWrapper>\r\n            </TimersContainer>\r\n        </>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport { useDispatch } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { registerAction } from '../../store/user/actions';\r\nimport { Body, Title, Input, Button, Reg } from '../Login/Login'\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\n\r\n\r\nconst RegisterBody = styled(Body)`\r\n    padding: 110px 70px 30px;\r\n    @media (max-width: 525px) {\r\n        padding-top: 60px;\r\n    }\r\n    @media (max-width: 375px) {\r\n        padding: 60px 20px 25px;\r\n    }\r\n`\r\n\r\nexport const Register = (props) => {\r\n    const [firstName, setFirstName] = useState('Serhii')\r\n    const [lastName, setLastName] = useState('Lisniakov')\r\n    const [email, setEmail] = useState('serhiy.lisnyakov@gmail.com')\r\n    const [password, setPassword] = useState('12345678')\r\n\r\n    const dispatch = useDispatch()\r\n    \r\n    const register = e => {\r\n        e.preventDefault()\r\n\r\n        const newUser = {\r\n            name: firstName + ' ' + lastName,\r\n            email,\r\n            password,\r\n            desktopTimer: 0,\r\n            mobileTimer: 0\r\n        }\r\n\r\n        dispatch(registerAction(newUser))\r\n\r\n        firebase.auth().onAuthStateChanged(function(user) {\r\n            if (user) props.history.push('/timers')\r\n            else setPassword('')\r\n        });\r\n    }\r\n\r\n    return (\r\n        <RegisterBody onSubmit={e => register(e)}>\r\n            <Title>Register</Title>\r\n            <Input\r\n                type='text'\r\n                placeholder='First name'\r\n                value={firstName}\r\n                onChange={e => setFirstName(e.target.value)}\r\n            />\r\n            <Input\r\n                type='text'\r\n                placeholder='Last name'\r\n                value={lastName}\r\n                onChange={e => setLastName(e.target.value)}\r\n            />\r\n            <Input\r\n                type='text'\r\n                placeholder='Email'\r\n                value={email}\r\n                onChange={e => setEmail(e.target.value)}\r\n            />\r\n            <Input\r\n                type='password'\r\n                placeholder='Password'\r\n                value={password}\r\n                onChange={e => setPassword(e.target.value)}\r\n            />\r\n            <Button type='submit'>Sign Up</Button>\r\n            <Reg to='/login'>Don’t have an account yet? <span>Log In</span></Reg>\r\n        </RegisterBody>\r\n    )\r\n}","import React from 'react'\r\nimport { Route, BrowserRouter as Router, Redirect } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { Login } from '../src/Components/Login/Login'\r\nimport { Timers } from './Components/Timers/Timers';\r\nimport { Register } from './Components/Register/Register';\r\n\r\n\r\nconst Container = styled.div`\r\n  max-width: 1440px;\r\n  padding: 0 15px;\r\n  margin: 0 auto;\r\n  height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`\r\n\r\nconst App = () => (\r\n  <Container>\r\n    <Router basename={'/fr-test'}>\r\n      <Route path='/login' component={Login} />\r\n      <Route path='/register' component={Register} />\r\n      <Route path='/timers' component={Timers} />\r\n      <Route exact path='/' render={() => <Redirect to=\"/login\"/>} />\r\n    </Router>\r\n  </Container>\r\n)\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","const initialStore = {}\r\n\r\nexport const userReducer = (state = initialStore, action) => {\r\n    switch (action.type) {\r\n        case 'LOGGING':\r\n            return action.payload\r\n        default: return state\r\n    }\r\n}","import { applyMiddleware, createStore } from 'redux';\r\nimport { combineReducers } from \"redux\";\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport thunk from 'redux-thunk';\r\nimport { userReducer } from './user/reducer';\r\n\r\nconst rootReducer = combineReducers({\r\n    user: userReducer,\r\n})\r\n\r\nexport const store = createStore(\r\n    rootReducer,\r\n    composeWithDevTools(applyMiddleware(thunk))\r\n)","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { store } from './store/store';\r\nimport { Provider } from 'react-redux';\r\nimport firebase from \"firebase/app\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyB3jlugKsPeF07t-uZ-7DIQWaWGRCCjnTo\",\r\n    authDomain: \"fr-test-543c3.firebaseapp.com\",\r\n    databaseURL: \"https://fr-test-543c3.firebaseio.com\",\r\n    projectId: \"fr-test-543c3\",\r\n    storageBucket: \"fr-test-543c3.appspot.com\",\r\n    messagingSenderId: \"496947034669\",\r\n    appId: \"1:496947034669:web:9052323b6b8ce9488016a4\"\r\n};\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}