(this["webpackJsonpserhii-test"]=this["webpackJsonpserhii-test"]||[]).push([[0],{47:function(n,e,t){},56:function(n,e,t){"use strict";t.r(e);var a=t(3),r=t(1),i=t(25),o=t.n(i),c=(t(47),t(8)),s=t(23),u=t(6),p=t(9),d=t(14),l=t(16),h=t(21),x=t.n(h),b=t(26),f=t(7),m=(t(29),function(){var n=Object(b.a)(x.a.mark((function n(){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.auth().signOut().then((function(){return localStorage.removeItem("token")})).catch((function(n){return console.log(n)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}());function j(){var n=Object(c.a)(["\n    color: #88888C;\n    letter-spacing: 0.75px;\n    display: inline-block;\n    margin-top: 20px !important;\n    font-size: 20px;\n    position: relative;\n    &::after {\n        content: '';\n        position: absolute;\n        width: 100%;\n        height: 2px;\n        background: #88888C;\n        top: 100%;\n        left: 0;\n    }\n    @media (max-width: 525px) {\n        font-size: 15px;\n    }\n    span {\n        font-weight: bold;\n        color: #000;\n        position: relative;\n        &::after {\n            content: '';\n            position: absolute;\n            width: 100%;\n            height: 2px;\n            background: #000;\n            top: 100%;\n            left: 0;\n            z-index: 2;\n        }\n    }\n"]);return j=function(){return n},n}function g(){var n=Object(c.a)(["\n    background: #828282;\n    border-radius: 63px;\n    font-size: 40px;\n    border: none;\n    width: 277px;\n    height: 73px;\n    margin: 80px auto 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    &:active {\n        background: #a5a5a5;\n    }\n    @media (max-width: 525px) {\n        width: 195px;\n        height: 47px;\n        font-size: 24px;\n    }\n"]);return g=function(){return n},n}function v(){var n=Object(c.a)(["\n    width: 100%;\n    border: none;\n    background: none;\n    font-size: 40px;\n    margin-top: 30px;\n    @media (max-width: 525px) {\n        font-size: 24px;\n    }\n"]);return v=function(){return n},n}function O(){var n=Object(c.a)(["\n    font-weight: 500;\n    font-size: 46px;\n    line-height: 54px;\n    letter-spacing: 0.0075em;\n    text-align: center;\n"]);return O=function(){return n},n}function w(){var n=Object(c.a)(["\n    width: 100%;\n    max-width: 588px;\n    background: #C4C4C4;\n    border-radius: 57px;\n    color: #000;\n    padding: 110px 70px 30px;\n    text-align: center;\n    @media (max-width: 525px) {\n        padding: 80px 50px 25px;\n        height: calc(100vh - 100px);\n    }\n    @media (max-width: 375px) {\n        padding: 80px 20px 25px;\n    }\n"]);return w=function(){return n},n}var y=p.a.form(w()),k=p.a.p(O()),S=p.a.input(v()),T=p.a.button(g()),C=Object(p.a)(s.b)(j()),I=function(n){var e=Object(r.useState)("serhiy.lisnyakov@gmail.com"),t=Object(d.a)(e,2),i=t[0],o=t[1],c=Object(r.useState)("12345678"),s=Object(d.a)(c,2),u=s[0],p=s[1],h=Object(l.b)(),m=function(e){var t;e.preventDefault(),h((t={email:i,password:u},function(){var n=Object(b.a)(x.a.mark((function n(e){var a,r;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.email,r=t.password,n.next=3,f.a.auth().signInWithEmailAndPassword(a,r).then((function(n){if(n){var t=f.a.auth().currentUser.uid,a={};f.a.database().ref("users/"+t).once("value").then((function(n){a.name=n.val()&&n.val().name||"Anonymous",a.email=n.val()&&n.val().email||"no-email",a.desktopTimer=n.val()&&n.val().desktopTimer,a.mobileTimer=n.val()&&n.val().mobileTimer})),localStorage.setItem("token",JSON.stringify(t)),e({type:"LOGGING",payload:a})}})).catch((function(n){var e=n.code,t=n.message;"auth/wrong-password"===e?alert("Wrong password."):alert(t)}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())),f.a.auth().onAuthStateChanged((function(e){e?n.history.push("/timers"):p("")}))};return Object(a.jsxs)(y,{onSubmit:function(n){return m(n)},children:[Object(a.jsx)(k,{children:"Login"}),Object(a.jsx)(S,{type:"text",placeholder:"Email",value:i,onChange:function(n){return o(n.target.value)}}),Object(a.jsx)(S,{type:"password",placeholder:"Password",value:u,onChange:function(n){return p(n.target.value)}}),Object(a.jsx)(T,{type:"submit",children:"Login"}),Object(a.jsxs)(C,{to:"/register",children:["Don\u2019t have an account yet? ",Object(a.jsx)("span",{children:"Register"})]})]})},z=(t(54),t.p+"static/media/clock.09ce351f.svg");function L(){var n=Object(c.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    padding: 50px 45px 0;\n    font-size: 24px;\n    font-weight: 500;\n    div {\n        cursor: pointer;\n        margin-left: auto;\n    }\n    @media (max-width: 525px) {\n        flex-direction: column;\n        align-items: center;\n        padding-top: 20px;\n    }\n"]);return L=function(){return n},n}var G=p.a.div(L()),D=function(n){var e=n.props;return Object(a.jsx)(G,{children:Object(a.jsx)("div",{onClick:function(){m(),e.history.push("/login")},children:"Log out"})})};function A(){var n=Object(c.a)(["\n    width: 379px;\n    height: 404px;\n    border-radius: 25px;\n    margin-top: 15px;\n    margin-bottom: 15px;\n    background: url(",") center center no-repeat, #C4C4C4;\n    background-size: 50%;\n    @media (max-width: 1024px) {\n        width: 192px;\n        height: 208px;\n    }\n"]);return A=function(){return n},n}function E(){var n=Object(c.a)(["\n    text-align: center;\n    font-size: 40px;\n    &:first-child {\n        margin-right: 200px;\n        @media (max-width: 1024px) {\n            margin-right: 100px;\n        }\n        @media (max-width: 575px) {\n            margin-right: 0px;\n            margin-bottom: 20px;\n        }\n    }\n    @media (max-width: 1024px) {\n        font-size: 24px;\n    }\n    \n"]);return E=function(){return n},n}function F(){var n=Object(c.a)(["\n    display: flex;\n    justify-content: space-between;\n    @media (max-width: 575px) {\n        flex-direction: column;\n    }\n"]);return F=function(){return n},n}var P=p.a.div(F()),W=p.a.div(E()),N=p.a.div(A(),z),J=function(n){var e=Object(l.c)((function(n){return n.user})),t=JSON.parse(localStorage.getItem("token")),i=Object(r.useState)(e.desktopTimer||0),o=Object(d.a)(i,2),c=o[0],s=o[1],p=Object(r.useState)(e.mobileTimer||0),h=Object(d.a)(p,2),x=h[0],b=h[1],m=function(n){var e=parseInt(n/1e3%60),t=parseInt(n/6e4%60),a=parseInt(n/36e5%24);return(a=a<10?"0"+a:a)+":"+(t=t<10?"0"+t:t)+":"+(e=e<10?"0"+e:e)};return Object(r.useEffect)((function(){f.a.database().ref("users/"+t).once("value").then((function(n){s(n.val()&&n.val().desktopTimer||0),b(n.val()&&n.val().mobileTimer||0)}))}),[]),Object(r.useEffect)((function(){var n;return n=window.innerWidth<525?setTimeout((function(){return b((function(n){return n+1e3}))}),1e3):setTimeout((function(){return s((function(n){return n+1e3}))}),1e3),function(){clearTimeout(n);var e={};e["/users/"+t+"/desktopTimer"]=c,e["/users/"+t+"/mobileTimer"]=x,f.a.database().ref().update(e)}}),[c,x]),t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(D,{props:n}),Object(a.jsxs)(P,{children:[Object(a.jsxs)(W,{children:["Desktop",Object(a.jsx)(N,{}),Object(a.jsx)("span",{children:m(c)})]}),Object(a.jsxs)(W,{children:["Mobile",Object(a.jsx)(N,{}),Object(a.jsx)("span",{children:m(x)})]})]})]}):Object(a.jsx)(u.a,{to:"/login"})};function R(){var n=Object(c.a)(["\n    padding: 110px 70px 30px;\n    @media (max-width: 525px) {\n        padding-top: 60px;\n    }\n    @media (max-width: 375px) {\n        padding: 60px 20px 25px;\n    }\n"]);return R=function(){return n},n}var U=Object(p.a)(y)(R()),B=function(n){var e=Object(r.useState)("Serhii"),t=Object(d.a)(e,2),i=t[0],o=t[1],c=Object(r.useState)("Lisniakov"),s=Object(d.a)(c,2),u=s[0],p=s[1],h=Object(r.useState)("serhiy.lisnyakov@gmail.com"),m=Object(d.a)(h,2),j=m[0],g=m[1],v=Object(r.useState)("12345678"),O=Object(d.a)(v,2),w=O[0],y=O[1],I=Object(l.b)(),z=function(e){var t;e.preventDefault(),I((t={name:i+" "+u,email:j,password:w,desktopTimer:0,mobileTimer:0},function(){var n=Object(b.a)(x.a.mark((function n(e){var a,r;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.email,r=t.password,n.next=3,f.a.auth().createUserWithEmailAndPassword(a,r).then((function(n){if(n){var a=f.a.auth().currentUser.uid,r={};f.a.database().ref("users/"+a).set(t),f.a.database().ref("users/"+a).once("value").then((function(n){r.name=n.val()&&n.val().name||"Anonymous",r.email=n.val()&&n.val().email||"no-email",r.desktopTimer=n.val()&&n.val().desktopTimer||0,r.mobileTimer=n.val()&&n.val().mobileTimer||0})),localStorage.setItem("token",JSON.stringify(a)),e({type:"LOGGING",payload:r})}})).catch((function(n){var e=n.code,t=n.message;"auth/weak-password"===e?alert("The password is too weak."):alert(t)}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())),f.a.auth().onAuthStateChanged((function(e){e?n.history.push("/timers"):y("")}))};return Object(a.jsxs)(U,{onSubmit:function(n){return z(n)},children:[Object(a.jsx)(k,{children:"Register"}),Object(a.jsx)(S,{type:"text",placeholder:"First name",value:i,onChange:function(n){return o(n.target.value)}}),Object(a.jsx)(S,{type:"text",placeholder:"Last name",value:u,onChange:function(n){return p(n.target.value)}}),Object(a.jsx)(S,{type:"text",placeholder:"Email",value:j,onChange:function(n){return g(n.target.value)}}),Object(a.jsx)(S,{type:"password",placeholder:"Password",value:w,onChange:function(n){return y(n.target.value)}}),Object(a.jsx)(T,{type:"submit",children:"Sign Up"}),Object(a.jsxs)(C,{to:"/login",children:["Don\u2019t have an account yet? ",Object(a.jsx)("span",{children:"Log In"})]})]})};function K(){var n=Object(c.a)(["\n  max-width: 1440px;\n  padding: 0 15px;\n  margin: 0 auto;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return K=function(){return n},n}var M=p.a.div(K()),Q=function(){return Object(a.jsx)(M,{children:Object(a.jsxs)(s.a,{basename:"/fr-test",children:[Object(a.jsx)(u.b,{path:"/login",component:I}),Object(a.jsx)(u.b,{path:"/register",component:B}),Object(a.jsx)(u.b,{path:"/timers",component:J}),Object(a.jsx)(u.b,{exact:!0,path:"/",render:function(){return Object(a.jsx)(u.a,{to:"/login"})}})]})})},Z=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,57)).then((function(e){var t=e.getCLS,a=e.getFID,r=e.getFCP,i=e.getLCP,o=e.getTTFB;t(n),a(n),r(n),i(n),o(n)}))},q=t(17),H=t(40),V=t(41),X={},Y=Object(q.combineReducers)({user:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"LOGGING":return e.payload;default:return n}}}),$=Object(q.createStore)(Y,Object(H.composeWithDevTools)(Object(q.applyMiddleware)(V.a)));f.a.initializeApp({apiKey:"AIzaSyB3jlugKsPeF07t-uZ-7DIQWaWGRCCjnTo",authDomain:"fr-test-543c3.firebaseapp.com",databaseURL:"https://fr-test-543c3.firebaseio.com",projectId:"fr-test-543c3",storageBucket:"fr-test-543c3.appspot.com",messagingSenderId:"496947034669",appId:"1:496947034669:web:9052323b6b8ce9488016a4"}),o.a.render(Object(a.jsx)(l.a,{store:$,children:Object(a.jsx)(Q,{})}),document.getElementById("root")),Z()}},[[56,1,2]]]);
//# sourceMappingURL=main.d95a9f84.chunk.js.map